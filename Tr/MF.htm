<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>Триггер MF</title><LINK REL="stylesheet" MEDIA="screen" TYPE="text/css" HREF="../style.css">
<script language="JScript" src="../Rec/script.js"></script></head>

<body><p align="center">
<font size="5">Триггер <b>MF</b> (физическое повреждение)</font></p>
<p>&nbsp;</p>
<p><b><font id="red">!?MF1;</font> - срабатывает при нанесении физического урона в битве (перед самим действием)</b></p>
<p>Ресивер <a href="../Rec/MF.htm">!!MF</a> может быть использован для изменения урона, получаемого стеком (или обнулить урон вообще!).</p>
<p><i id="bold">Замечание:</i> триггера <b>!?MF0</b> или <b>!?MF</b> не существует. При использовании такого синтаксиса ERM-поддержка отключается.</p>
<p><u onclick="HideIt(1)" class="h"><b>Дополнительно</b> (<u id="show1">показать</u>)</u><div id="1" class="b">
<p>Когда вы используете в своих скриптах триггер !?MF1, знайте, что он будет срабатывать для различных типов повреждений, которые, скорее всего, вами не были учтены. Это может вызвать побочные эффекты или ошибки в работе вашего скрипта.<br>
Но, если в теле триггера !?MF1 считывать из памяти по адресу <b class="event">28326C0</b> значения (число, 4 байта), то мы сможем узнать какой именно тип физических повреждения наносится стеку.</p>
<table border="0" width="100%" class="zebra" id="step">
<caption align="left">Значения для различных типов физических повреждения:</caption>
<tr id="N2"><td width="75">#</td><td>Описание</td></tr>
<tr><td>4454752</td><td>Урон огненным шаром</td></tr>
<tr><td>4455011</td><td>Урон от стрельбы</td></tr>
<tr><td>4455746</td><td>Урон от смертельного облака</td></tr>
<tr><td>4456676</td><td>Урон от круговой атаки (удар по всем врагам вокруг)</td></tr>
<tr><td>4458589</td><td>Урон от огненного щита</td></tr>
<tr><td>4460149</td><td>Урон от смертельного взгляда</td></tr>
<tr><td>4460621</td><td>Удар молнии</td></tr>
<tr><td>4461137</td><td>Урон от кислотной атаки</td></tr>
<tr><td>4462398</td><td>Урон от рукопашной</td></tr>
<tr><td>4462479</td><td>Урон от дыхания дракона</td></tr>
<tr><td>4610404</td><td>Урон от стрелковых башен</td></tr>
<tr><td>4627096</td><td>Урон от рва</td></tr>
<tr><td>5902442</td><td>Урон от волны смерти</td></tr></table>
<p><b><u>Комментарии</u>:</b>
<ul><li>если монстр может атаковать сразу несколько целей одновременно, то у него урон всегда имеет тип &quot;круговая атака&quot; (даже при атаке одной цели);</li>
<li>тип повреждения &quot;дыхание дракона&quot; срабатывает лишь для стека, находящегося за основной целью (вторая клетка атаки);</li>
<li>заклинание "Волна смерти" можно считать исключением среди прочих из магической книги, т.к. обрабатывается сначала в триггерах <a href="MR.htm">!?MR</a>, а потом ещё и в !?MF1 (зачем? остаётся загадкой).</li></ul>
<br>
<u>Пример использования</u>:
<script type="erm">!?MF1; [перед получением физ.урона стеку]
!!MF:F?y1;
!!UN:C42149568/4/?y10; получаем тип повреждения по адресу 0x28326C0
!!IF&y10=4455011:L^Урон от выстрела: {~RED}%Y1{~} ед.^;
!!IF&y10=4462398:L^Урон от рукопашной: {~RED}%Y1{~} ед.^;
!!IF&y10=4458589:L^Огненный щит наносит {~RED}%Y1{~} ед. урона!^;</script></div></p>
<p>&nbsp;</p>
<script src="../erm.js"></script></body></html>
