<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>Триггеры: общее</title>
<LINK REL="stylesheet" MEDIA="screen" TYPE="text/css" HREF="../style.css">
<script language="JScript" src="../Rec/script.js"></script>
<style> a:link.button, a:visited.button {display:inline}
</style></head>
<body scroll="no">
<DIV id="buttonMenu">
<SPAN CLASS="options">Разделы:&nbsp;&nbsp;</SPAN>

 <A HREF="#intro" title="Введение" CLASS="button">Введение</A>
 <A HREF="#use" title="Использование" CLASS="button">Использование</A>
 <A HREF="#synt" title="Синтаксис" CLASS="button">Синтаксис</A>
 <A HREF="#var_use" title="Использование переменных" CLASS="button">Переменные</A>
 <A HREF="#double" title="Использование несольких одинковых триггеров" CLASS="button">Множества</a>
 <A HREF="#cond" title="Условия" CLASS="button">Условия</a>
</DIV>
<DIV id="text">
<h2 align="center">Триггеры</h2>
<a name="intro"></a><h3>Введение</h3>
<p>Когда игрок активирует триггер, вызываются некие действия одного или более 
ресиверов. Триггером может быть событие, объект или герой, который посещает 
другого героя, или это может быть ERM-функцией, вызываемой из другого ERM-кода 
или события, установленного на определённое время или интервал. Ресивером может 
быть событие, герой, объект на карте или другие вещи. Поскольку многие вещи в 
игре могут быть использоваться как триггеры или ресиверы, важно не перепутать, 
что куда относится.</p>
<a name="use"></a><h3>Как использовать триггеры</h3>
<p>Свойства события-триггера или объекта-триггера не важны для самой работы 
триггера. Действия триггеров должны быть описаны во временном событии. В 
ERM-скриптах триггер является заглавным звеном, и после него должны идти 
ресиверы. Если вы помещаете более одного триггера в событие, важно понимать, 
что нет кода &quot;конец триггера&quot;; новый триггер прекратит выполнение ресиверов 
предыдущего триггера.</p>
<a name="synt"></a><h3>Синтаксис триггеров</h3>
<p>Каждый триггер начинается со знаков восклицания и вопроса (!?) и заканчивается 
&quot;;&quot;. После !? следует двухбуквенный код триггера , например 
<a href="../Tr/BA.htm">!?BA</a>, <a href="../Tr/OB.htm">!?OB</a> или 
<a href="../Tr/HE.htm">!?HE</a>. После имени триггера идут параметры, показанные 
как # в помощи. Каждый параметр (#) должен являться целым числом, например 
<b id="erm"><font class="tr">!?HE</font>47;</b>. Значение и диапазон чисел для каждого типа триггеров разное. 
Для триггера HE, число - это номер героя (у каждого героя есть собственный порядковый номер), 
для триггера LE - это положение события на карте.</p>
<a name="var_use"></a><h3>Использование переменных в триггерах</h3>
<p>Переменные не могут быть использованы как параметры триггера. Если вы попробуете 
проделать это, переменная будет игнорироваться или приниматься за ноль. Если вы 
используете постоянные переменные, например v4, буква (v) будет игнорироваться, 
и это будет принято за число 4.</p>
<a name="double"></a><h3>Двойные триггеры</h3>
<p>Если некоторые триггеры используются более чем один раз на карте, в этом случае
ВСЕ ресиверы для этого триггера будут выполняться, начиная с ресиверов 
первого триггера (по порядку расположения в событиях) и оканчивая ресиверами 
последнего.<br>
Заметьте, что триггер !?BA0; - отличный от !?BA1;, и так же триггер !?HE47; - 
отличный от !?HE48; </p>
<a name="cond"></a><h3>Условия триггеров</h3>
<p>Условия могут быть добавлены к триггеру, и ресиверы этого триггера будут 
работать только если условие выполнено. Для этого используют знак (&amp;) сразу 
после последнего параметра и до точки с запятой. После &amp;, вставьте ваше условие. 
Это условие должно содержать флаг или переменную, знаки сравнения (=, &gt;, &lt;, &gt;=, 
&lt;=, или &lt;&gt;) и вторую переменную либо значение.
<p><u>Примеры</u>:
<script type="erm">!?BA0&v10=51;
Ресиверы этого триггера будут работать, только если v10 имеет значение 51.</script>
Вы можете включать несколько проверок, используя "слэш" (<span class="key">/</span>):
<script type="erm">!?BA0&v10=51/v2>=5;
Ресиверы этого триггера будут работать только если v10 равно 51, и если v2 равно или больше 5.</script></p>
<p><div id="Q1" class="erm">См. статью про <a href="flags.htm">флаги и переменные</a> для большей информации.</div>&nbsp;</p>
</div>
<script src="../erm.js"></script></body></html>
