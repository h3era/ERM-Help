<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>
IF ELSE END</title>
<LINK REL="stylesheet" MEDIA="screen" TYPE="text/css" HREF="../style.css">
<script language="JScript" src="script.js"></script></head>

<body>
<p align="center"><b><font size="5">Конструкция IF-ELSE-ENDIF</font></b><a href="../Cont/TE.htm" title="Работает только с HoMM3:TE или позднее.."><img src="../Img/te.gif" class="TE"></a><br>
<font size="4">(если – иначе – конец_если)</font></p>
<p><br><b>Конструкция <code id="red">IF-ELSE-ENDIF</code> используется для установки условий без использования новых функций или тонн триггеров.</b></p>

<hr noshade>
<p>
Чтобы начать <u>секцию IF</u>, используйте следующий ресивер/инструкцию:
<script type="erm">!!if&условие:;</script>
Заметьте, что 'if' написано в нижнем регистре.<br>
Условия - стандартные И и ИЛИ, которые вы можете и сейчас использовать в любом ресивере. 
Если при выполнении скрипта значение условия ИСТИНА, выполянется дальнейшая часть. 
Если оно ЛОЖЬ, дальнейшая часть пропускается до нахождения начала секции ELSE или ENDIF.</p>

<p>Чтобы начать <u>секцию ELSE</u>, используйте следующий ресивер/инструкцию:
<script type="erm">!!el:;   'el' в нижнем регистре.</script>
Для данного ресивера не нужны условия.
Секция ELSE всегда ожидает IF и &quot;привязывается&quot; к последнему найденному в скрипте IF.<br>
<u onclick="HideIt(2)" class="h"><b>Расширение синтаксиса</b><a href="../ERA/index.htm" title="Работает только с ERA.."><img src="../Img/era.gif" class="TE"></a>(<u id="show2">показать</u>)</u><div id="2" class="b">
Добавлен синтаксис ELSEIF для ресивера !!el.<br>
Если секции ELSE имеет условие и оно не выполняется (значение ЛОЖЬ), код продолжает выполняться до следующей секции ELSEIF с условием или пока не встретится секция ENDIF.
<script type="erm">!!if&v1>=0:;
; команды, если v1>=0
!!el&v2<42:;
; команды, если v1<0 и v2<42
!!el&v3<100/v3>=0:;
; команды, если v1<0, v2>=42 и v3 входит в [0;100)
!!el:;
; команды, если v1<0, v2>=42 и v3 не входит в [0;100)
!!en:;</script></div>
</p>

<p>Для <u>завершения IF</u> или IF-ELSE секции используется следующий ресивер/инструкция:
<script type="erm">!!en:;   'en' в нижнем регистре.</script>
Для данного ресивера не нужны условия.<br>
Секция ENDIF всегда ожидает часть IF или IF-ELSE, и &quot;привязывается&quot; к последнему найденному в скрипте IF или IF-ELSE.</p>

<p>Вы можете включать секции IF-ELSE-ENDIF друг в друга, но не глубже 10 уровней (и не глубже 16 - для <a href="../ERA/index.htm">ERA</a>).<br>
Каждый триггер (и функция) имеет свои IF-ELSE-ENDIF, таким образом можно превысить лимит 10 включений вызовом функций.<br>
Когда вы вызываете функцию в какой-либо секции IF-ELSE-ENDIF, она (секция) остается активной, 
и сохраняет свои собственные <i>y</i>-переменные (как и у функций).</p>
<p>
<b><u onclick="HideIt(1)" class="h">Пример (<b id="show1">показать</b>)</u></b><div id="1" class="b">
<script type="erm">ZVSE
!?HM-1;
!!VRv10:S5;
!!if&v10=5:;
  !!IF:M^Первый IF^;
  !!VRv10:S10;
  !!if&v10<>10:;
    !!IF:M^Второй IF^;
  !!el:;
    !!IF:M^Второй ELSE^;
  !!en:;
  !!IF:M^Второй IF закончился^;
!!el:;
  !!IF:M^Первое ELSE^;
  !!VRv10:S99;
  !!if&v10=99:;
    !!IF:M^Третье IF^;
  !!el:;
    !!IF:M^Третье ELSE^;
  !!en:;
  !!IF:M^Третий IF закончился^;
!!en:;
!!IF:M^Первый IF закончился^;</script>

Вы должны увидеть следующие сообщения:
<script type="erm">Первый IF
Второй ELSE
Второй IF закончился
Первый IF закончился</script></div>
</p>

<script src="../erm.js"></script></body></html>