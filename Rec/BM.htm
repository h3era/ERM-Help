<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>
Ресивер BM</title>
<LINK REL="stylesheet" MEDIA="screen" TYPE="text/css" HREF="../style.css">
<script language="JScript" src="script.js"></script></head>

<body scroll="no">
<DIV id="buttonMenu">
<SPAN CLASS="options">Опции&nbsp;BM:&nbsp;&nbsp;</SPAN>

	<A HREF="#A" title="Атака отряда" CLASS="button">A</A>
	<A HREF="#B" title="Кол-во монстров в отряде в начале боя" CLASS="button">B</A>
	<A HREF="#C" title="Колдовать заклинание (отрядом)" CLASS="button">C</A>
	<A HREF="#D" title="Защита отряда" CLASS="button">D</A>
	<A HREF="#E" title="Кол-во заклинаний у монстра" CLASS="button">E</A>
	<A HREF="#F" title="Флаги отряда" CLASS="button">F</A>
	<A HREF="#G" title="Настроить действующие на отряд заклинания" CLASS="button">G</A>
	<A HREF="#H" title="Максимальное здоровье существа" CLASS="button">H</A>
	<A HREF="#I" title="Принадлежность отряда" CLASS="button">I</A>
	<A HREF="#J" title="Кол-во действующих на отряд заклинаний" CLASS="button">J</A>
	<A HREF="#K" title="Нанести урон существу" CLASS="button">K</A>
	<A HREF="#L" title="Потерянное здоровье у монстра" CLASS="button">L</A>
	<A HREF="#M" title="Наложить заклинание на отряд" CLASS="button">M</A>
	<A HREF="#N" title="Кол-во монстров в отряде (текущее)" CLASS="button">N</A>
	<A HREF="#O" title="Номер отряда в армии героя" CLASS="button">O</A>
	<A HREF="#P" title="Позиция на поле боя" CLASS="button">P</A>
	<A HREF="#Q" title="Поместить участок зыбучего песка или мину" CLASS="button">Q</A>
	<A HREF="#R" title="Кол-во ответных ударов" CLASS="button">R</A>
	<A HREF="#S" title="Скорость отряда" CLASS="button">S</A>
	<A HREF="#T" title="Тип монстров" CLASS="button">T</A>
	<A HREF="#U" title="Мин/макс урон; кол-во выстрелов; заклинание для колдовства, контроль клона" CLASS="button">U</A>
	<A HREF="#V" title="Показать анимацию на отряде" CLASS="button">V</A>
 <SPAN CLASS="buttoninactive">W</SPAN>
 <SPAN CLASS="buttoninactive">X</SPAN>
 <SPAN CLASS="buttoninactive">Y</SPAN>
	<A HREF="#Z" title="Команда возвращает адрес памяти структуры указанного стека" CLASS="button">Z</A>
	<A style="position:absolute; right:4" href="#UP" CLASS="button" title="Вернуться к началу">&uarr;</a>

</DIV>

<DIV id="text">
<a name="up"></a>
<p align="center"><font size="5">Ресивер <b>BM</b> (параметры существ в бою)</font></p>
<p><br>
<b><font id="red">
!!BM#:XXXX;</font> 
- установить/проверить/получить некоторые параметры стека монстров.</b><br>
# - номер стека (0..41). Используются номера 0..20 для первого (0) игрока и 21..41 для второго (1) игрока.</p>
<hr noshade>
<p>
<a name="A"></a><font id="red"><b>A$</b><br>

</font>Атака (параметр) монстра</p>
<hr noshade><p>
<a name="B"></a><font id="red"><b>B$</b></font><br>
Кол-во монстров в стеке (в начале битвы)<br>
<u>
<b onclick="HideIt(1)" class="h">Пример (<b id="show1">показать</b>)</b></u><div id="1" class="b">
<script type="erm">!!BM0:B?v51; - записать исходное кол-во существ в v51
!!BM0:B100; - установить кол-во монстра на начало битвы (монстры не добавятся)
Потери подсчитываются так: Число юнитов в начале битвы (BM:B) минус оставшиеся в живых (BM:N) - отрицательных потерь быть не может.</script>
</div></p>
<hr noshade><p>
<a name="C"></a><font id="red"><b>C#1/#2/#3/#4/#5</b></font><br>
Колдовать заклинание:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – <a target="form" href="../Form/Spell.htm">номер заклинания</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – <a target="form" href="../Form/BF.htm">позиция для заклинания</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – сила заклинания (сила/длительность): это как Колдовская Сила героя<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #4 – уровень заклинания (0..3): это как уровень навыка (нет/баз/продв/эксп)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #5 – проверка на существование монстра (0 - не выполнять, 1 - выполнить)<br>
<b><u onclick="HideIt(2)" class="h">Комментарий (<b id="show2">показать</b>)</u></b><div id="2" class="b">5ый параметр должен быть равен 1, чтобы не вызвать 
ошибки при выполнении, но большая часть заклинаний работает и с 0.<br>
Существует баг, что нельзя наложить таким методом Воскрешение (игра выходит в тёмный экран). </div></p>
<hr noshade><p>
<a name="D"></a><font id="red"><b>D$</b></font><br>
Защита (параметр) существа</p>
<hr noshade><p>
<a name="E"></a><font id="red"><b>E$</b></font><br>
Кол-во заклинаний (для существ-колдунов)<br>
<b><u onclick="HideIt(3)" class="h">Комментарий (<b id="show3">показать</b>)</u></b><div id="3" class="b">
Это кол-во заклинаний, которое может наложить существо за одну битву.<br>
Например, у Архангелов это значение равно 1. После того, как они кого-либо воскрешат, значение выставляется в 0.<br>
Для триггера <a href="../Tr/BG.htm">!?BG</a>: значение изменяется <b>после</b> триггера наложения заклинания.</div></p>
<hr noshade><p>
<a name="F"></a><font id="red"><b>F$</b></font><br>
<a target="form" href="../Form/FlaggedAbilities.htm">Флаги</a> монстров<br>
<u><b onclick="HideIt(4)" class="h">Комментарий (<b id="show4">показать</b>)</b></u><br><div id="4" class="b">
Для проверки этих бит используйте BM:F, затем <a href="VR.htm#And">VR:&amp;</a> со 
значением соответствующего бита, интересующего вас. Помните, что флаги 32-битны.<br>
<u>Пример</u>:
<script type="erm">!!BM0:F?i; записать значения флагов первого стека в переменную i
!!VRi:&33554432; проверить на ожидание
!!IF&i>0:M^Стек ждёт лучшего момента для действия^;</script>
Однако, стоит добавить, что в данном примере флаг ожидания возвращает &quot;истину&quot;, пока нет всеобщей фазы ожидания в бою (когда все отряды уже получали возможность совершить действие). А уже эту всеобщую фазу можно определить через:
<script type="erm">!!UN:C6919200/4/?y9;
!!VRy10:Sy9 +81380;
!!UN:Cy10/1/?y11; проверка на фазу ожидания: 0=НЕТ, 1=ДА</script>
Таким образом, чтобы узнать, в ожидании отряд или нет, когда настала всеобщая фаза ожидания, надо сделать проверку на саму фазу, сделать проверку на спец.флаги 26 (стек походил) и 27 (стек в защите).</div></p>
<hr noshade><p>
<a name="G"></a><font id="red"><b>G#/$1/$2</b></font><br>
Установить/проверить/получить параметры активных заклинаний<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # – <a target="form" href="../Form/Spell.htm">номер заклинания</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 – установить/проверить/получить продолжительность<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – установить/проверить/получить силу заклинания<br>
При установке длительности заклинания на 0 картинка по-прежнему остаётся, а действие заклинания исчезает.<br>
<u onclick="HideIt(5)" class="h"><b>Дополнительно</b> (<u id="show5">показать</u>)</u><br><div id="5" class="b">
<b>BM:G</b> – это &quot;неаккуратно&quot; сделанная функция, и позволяет менять сотни характеристик существа, а не только наложенные заклинания.<br>
<p>Вызов: <b id="erm"><font class="re">!!BM</font>x:G#/$/d;</b>, где:<br>
&nbsp;&nbsp;&nbsp; <b>#</b> - некий числовой параметр (см. таблицу ниже), используя который, можно изменять любую информацию о монстре как доступную (атака, здоровье и др.), так и недоступную (например, звуки, анимацию).<br>
&nbsp;&nbsp;&nbsp; <b>$</b> - значение для параметра #.<br>
Во избежание ошибок, &quot;/d&quot; в конце команды обязательно.</p>
<h4 id="N2">Таблица известных значений для BM:G:</h4>
<blockquote id="Q1"><font id="red">Красным</font> выделены строковые параметры - для изменения вам потребуются <a href="../Cont/Lib.htm#str">функции для работы со строками на низком уровне</a>.<br>
<font color="#666666">Серым</font> выделено то, что менять проблемно - можно только посоветовать прочитать данные у одного монстра и поставить их другому.</blockquote>
<p><b>-100</b>: Видимость существа (4 - виден, 8 - не виден)<br>
Отряды теряют невидимость при любом действии на поле боя. Но её можно восстановить в триггере <a href="../Tr/BG.htm">!?BG1</a>.<br>
<b>-90</b>: Есть ли цифры кол-ва существ? (0 = есть, 1 = нет)<br>
Отряд не имеет обозначения кол-ва существ, пока не походит. При этом на него можно колдовать магию и бить. 
Кол-во показывается при щелчке <img id="vc" src="../Img/RBM.gif"> в нижнем правом углу картинки (где обычно, в общем).<br>
<b>-89</b>: Тип существа<br>
Параметры отряда становятся как у существа, номер которого установлен, но сразу же снижаются до стандартных параметров существа, которое меняют. 
Имя отряда в меню при щелчке <img id="vc" src="../Img/RBM.gif"> по существу меняется; когда его бьют - имя остаётся изменённым. 
Когда битва окончена - на картинке будет показан настроенный отряд, а не старый. Если изменить тип существа, битву становится невозможно выиграть 
(логика игры требует убить того, на кого нападал, и изменения типа существ равнозначно вызову другого существа, без уничтожения старого (по логике опять же игры)). 
Эта проблема делает параметр практически бесполезным.<br>
<b>-88</b>: Позиция существа <br>
Если сменить, на старом месте останется стоять копия. Копия не может ходить и быть атакованной, занимает место.<br>
<b>-87</b>: Номер анимации<br>
При значение 2,6,9&hellip; (много ещё где) игра выдаёт чёрный экран. Кадры берутся в том порядке, как и при создании.<br>
<b>-86</b>: Номер кадра в анимации<br>
Анимация возвращается к нормальной, если навести мышкой<br>
<b>-83</b>: Кол-во существ (реальное)<br>
<b>-82</b>: Кол-во существ для отображения <br>
Может не совпадать с кол-вом. В этом случае написано будет одно, а реально другое. По умолчанию равно <b>-1</b> – значит &quot;полностью совпадает с реальным&quot;.<br>
После того, как любое существо попадет под атаку, данному значению станет равно кол-во реальное; в итогах битвы показывается реальное кол-во убитых; 
при атаке изменённого существа фантомные монстры не учитываются (т.е. если изменить 10 монстров на 100 этой командой и атаковать, то урон будет нанесен именно этими 10). 
Но его можно восстановить в триггере !?BG1.<br>
<b>-81</b>: Безвозвратные потери.<br>
Кол-во существ после выигранной битвы (или после откупа) равно &quot;текущее кол-во существ&quot; минус &quot;безвозвратные потери&quot;. 
Потери могут быть записаны в безвозвратные при использовании, например, после Воскрешения без навыка Магия Земли или с ней, но на базовом уровне.<br>
<b>-80</b>: Разница между текущим здоровьем и полным.<br>
Если 0 значит стек здоров.<br>
<b>-79</b>: Номер слота героя (0..6), -1 – будет удалён после битвы<br>
<b>-78</b>: Кол-во существ в начале боя<br>
<b>-73</b>: Город-владелец (существа)<br>
<b>-69</b>: Флаги существа<br>
<font id="red"><b>-68</b>: Название существа<br>
<b>-67: </b>Название существа (множественное число)<br>
<b>-66</b>: Строка состояния (например, &quot;Нет штрафа рукопашной&quot;)</font><br>
<b>-54</b>: Здоровье (полное)<br>
<b>-53</b>: Скорость<br>
<b>-52</b>: Атака<br>
<b>-51</b>: Защита<br>
<b>-50</b>: Мин. урон<br>
<b>-49</b>: Макс. урон<br>
<b>-48</b>: Боезапас<br>
<b>-41</b>: Владелец (не вполне корректно работает)<br>
<b>-40</b>: Номер стека (0..21)<br>
<b>-38</b>: Смещение существа по Y<br>
<b>-37</b>: Смещение существа по X<br>
От того места, где существо должно быть. В пикселях.<br>
<b>-19</b>: Смещение по оси OX прямоугольника с кол-вом существ.<br>
<b>-17</b>: Частота проигрывания случайной анимации.<br>
Чем меньше, тем чаще. Так, значение 200 даст беспрерывную анимацию.<br>
<font color="#666666"><b>-13</b>: Анимация существа<br>
<b>-12</b>: Анимация снаряда (см. <a href="../Form/weapon.htm" target="form">таблицу</a>)<br>
<b>-10</b>: Звук перемещения<br>
<b>-9</b>: Звук атаки<br>
<b>-8</b>: Звук урона<br>
<b>-7</b>: Звук выстрела<br>
<b>-6</b>: Звук смерти<br>
<b>-5</b>: Звук защиты</font><br>
<b>-1</b>: Кол-во активных заклинаний (для отображения цвета кол-ва существ).<br>
[<b id="WT">0..65</b>]: работа с заклинаниями (нормальное функционирование команды BM:G)<br>
<b>173</b>: Кол-во активных заклинаний (для отображения при щелчке <img id="vc" src="../Img/RBM.gif">).<br>
<b>212</b>: Мораль существа<br>
<b>213</b>: Удача существа<br>
Мораль и удача пересчитывается при передаче хода другому существу. Поэтому полезно только для получения или проверки. 
Если очень нужно менять, то можно делать это или перед атакой, или каждый ход.</p></div></p>
<hr noshade><p>
<a name="H"></a><font id="red"><b>H$</b></font><br>
Максимальное здоровье существа</p>
<hr noshade><p>
<a name="I"></a><font id="red"><b>I$</b></font><br>
Принадлежность герою $: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 – левому<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 – правому</p>
<hr noshade><p>
<a name="J"></a><font id="red"><b>J?$</b></font><br>
Получить или проверить кол-во активных заклинаний</p>
<hr noshade><p>
<a name="K"></a><font id="red"><b>K#</b></font><br>
Нанести # урона существу<br>
При данном действии триггер 
<a href="../Tr/MF.htm">!?MF</a> не срабатывает</p>
<hr noshade><p>
<a name="L"></a><font id="red"><b>L$</b></font><br>
Кол-во потерянного здоровья монстра в стеке<br>
<b><u onclick="HideIt(6)" class="h">Комментарий (<b id="show6">показать</b>)</u></b><div id="6" class="b">
Например, если у Арбалетчика 10 здоровья, и ему нанесли 4 ед. урона, то значение команды будет равно 4.<br>
Если нанесли 10 ед. урона, то Арбалетчик погибает, а следующий Арбалетчик будет иметь значение этой команды 0.</div></p>
<hr noshade><p>
<a name="M"></a><font id="red"><b>M#1/#2/#3</b></font><br>
Наложить заклинание на монстра<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – <a target="form" href="../Form/Spell.htm">номер заклинания</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – продолжительность<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – уровень навыка (0 – нет, 1 – базовый, 2 – продвинутый, 3 – эксперт)<br>
Если вы накладываете заклинание, которое монстр уже имеет, это будет игнорироваться. Но вы можете использовать &laquo;Снятие заклинания&raquo; :)<br>
<u onclick="HideIt(7)" class="h"><b>Дополнительно</b> (<u id="show7">показать</u>)</u><br><div id="7" class="b">
Также вы можете наложить специальные заклинания:<br>
70. Окаменение<br>
71. Яд<br>
72. Корни<br>
73. Болезнь<br>
74. Паралич<br>
75. Старость<br>
Вы можете установить эти 6 заклинаний без проблем, разве что Привязанное существо никогда не сможет двинуться (продолжительность игнорируется), 
и отравленное существо не получит урона в первом раунде битвы. И, конечно, нет графики наложения заклинаний, 
хотя внутри существа всё отображается корректно - окаменевшее существо выглядит как камень и не получает хода, и.т.д.<br>
Вы можете установить любое другое заклинание данной командой, даже то, которое не имеет значения в битве - 
например, вы можете дать существу &quot;Вызов корабля&quot; на 3 раунда.<br>
Графика будет показана при правом клике на существе, и будет выглядеть как &quot;вызов корабля&quot;. Существо будет иметь зелёный показатель кол-ва 
(т.е. положительное заклинание), за исключением заклинаний, показываемых красным цветом (Волшебная стрела, Взрыв). 
Дополнительные заклинания с номера 76, кажется, использовались для способностей существ, имеющих картинку и эффект, но не действующий на стек постоянно 
(т.е. не показывается при правом клике на существо). Вы можете установить эти заклинания на существо этой командой, но не будет показано никакой картинки 
(но, всё же, показывается название при наведении на пустой квадрат) либо последует вылет из игры (и это не последовательно - иногда следует вылет, иногда вы видите пустой квадрат).<br>
И если вы используете <a href="#C">BG:C</a>, чтобы попытаться &quot;наколдовать&quot; одно из этих заклинаний, либо ничего не происходит, либо - вылет.<br>
76. Облако смерти<br>
77. Удар молнии<br>
78. Снятие полезных заклинаний<br>
79. Смертельный взгляд<br>
80. Кислотное дыхание</div></p>
<hr noshade><p>
<a name="N"></a><font id="red"><b>N$</b></font><br>
Кол-во монстров в стеке (текущее)</p>
<hr noshade><p>
<a name="O"></a><font id="red"><b>O$</b></font><br>
Номер слота существа в армии героя (0..6, -1)<br>
Если $ &nbsp;= -1, стек не принадлежит армии героя 
(вызван)<br>
<i id="bold">Замечание:</i> стеки 20 и 41 всегда имеют значение 0.</p>
<hr noshade><p>
<a name="P"></a><font id="red"><b>P$</b></font><br>
Позиция на <a target="form" href="../Form/BF.htm">поле боя</a><br>
Можно использовать как телепорт</p>
<hr noshade><p>
<a name="Q"></a><font id="red"><b>Q#1/#2/#3</b></font><br>
Поместить участок Зыбучего песка или мину в позицию<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – тип (0 – песок, 1 – мины)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – <a target="form" href="../Form/BF.htm">позиция</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – обновить (1 – да, 0 – нет)<br>
<u><b onclick="HideIt(8)" class="h">Комментарий (<b id="show8">показать</b>)</b></u><div id="8" class="b">
Данная команда автоматически проверяет, можете ли вы поместить мину или песок. Вы можете использовать стек номер 0 для левого героя и 21 для правого, 
чтобы быть в уверенности помещения препятствия (стек может быть мёртв - всё, что нужно, это номер стороны (т.е. можете использовать 0-20 для левого героя и 21-41 для правого)</div></p>
<hr noshade><p>
<a name="R"></a><font id="red"><b>R$</b></font><br>
Кол-во ответов на атаки (проверка для Королевских грифонов)<br>
<b><u onclick="HideIt(9)" class="h">Комментарий (<b id="show9">показать</b>)</u></b><div id="9" class="b">
Это кол-во ответов стека, оставшихся до конца раунда. Оно каждый раунд равно одному и после ответа равен 0. Королевские грифоны каждый раунд имеют 5000 ответов.</div></p>
<hr noshade><p>
<a name="S"></a><font id="red"><b>S$</b></font><br>
Скорость существа.<br>
<b><u>Комментарий</u>:</b> полученное значение не включает магические эффекты влияния на скорость.</p>
<p id="Q1">См. также: команда <a href="#U6">BM:U6</a></p>
<hr noshade><p>
<a name="T"></a><font id="red"><b>T$</b></font><br>
<a target="form" href="../Form/Creature.htm">Тип монстра</a></p>
<hr noshade><p>
<a name="U"></a><font id="red"><b>U#/$</b></font><br>
Изменить параметры монстров<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 1 – установить/проверить/получить минимальный урон в $<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 2 – установить/проверить/получить максимальный урон в $<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 3 – установить/проверить/получить кол-во выстрелов в $<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 4 – изменить заклинание существа на $<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 5 - клон стека. Если клонов стека не существует, $ = -1, 
иначе равен 0..41 - номер стека-клона искомого стека (искомый – это # в <b id="erm"><font class="re">!!BM</font>#:U5/$;</b>). 
Если существо погибает, его клоны умирают тоже.<br>
<u><b onclick="HideIt(10)" class="h">Комментарии (<b id="show10">показать</b>)</b></u> <div id="10" class="b">
Вы можете изменить заклинание существа только на родственное. Например, если существо колдует заклинание на союзных существ 
(скажем, Огры-Шаманы - Жажду крови), вы можете изменить заклинание на любое одинарное положительное заклинание (например, Радость или Ускорение), 
но не атакующее (Волшебная стрела или Замедление), иначе ИИ никогда не будет использовать его. Однако, если вам нужно, 
чтобы такая особенность была только у игроков-людей, вы можете настроить почти любое заклинание без проблем.<br>
Данный пример подтверждён Командирами, они колдуют заклинание как Огры-шаманы.<br>
Также помните, что данная команда не действует на существ, колдующих случайное заклинание (например, Сказочный дракон и Мастер-Джинн)</div></p> 
<hr noshade><p>
<a name="U6"></a><font id="red"><b>U6/?$</b></font><a href="../ERA/index.htm" title="Работает только с ERA.."><img src="../Img/era.gif" class="TE"></a><br>
Получить реальную скорость стека (учитываются все бонусы/штрафы).</p>
<p id="Q1">См. также: команда <a href="#S">BM:S</a>.
</p>
<hr noshade>
<p>
<a name="V"></a><font id="red"><b>V#</b></font><br>
Показать <a target="form" href="../Form/FormatAnimation.htm">анимацию #</a> для стека.</p>
<hr noshade>
<p>
<a name="Z"></a><font id="red"><b>Z?$</b></font><a href="../ERA/index.htm" title="Работает только с ERA.."><img src="../Img/era.gif" class="TE"></a><br>
Команда возвращает адрес памяти <a href="../Form/CombatMon.htm" target="form">структуры указанного стека</a>.<br>
<b><u onclick="HideIt(11)" class="h">Пример (<b id="show11">показать</b>)</u></b><div id="11" class="b">
<script type="erm">; Данная функция узнает общее кол-во заклинаний (x2=404 и x3=4байта), наложенных на первый стек атакующей стороны (x1=0)
!!FU(BattleStack_GetParam):P0/404/4/?y10; результат занесётся в y10

!?FU(BattleStack_GetParam);
; Образец функции получения параметров боевого стека:
; x1 - номер стека в битве
; x2 - смещение до заданного параметра
; x3 - кол-во байт (1, 2, 4)
; x4 - возвращаемое значение
!!BMx1:Z?y1;
!!UN:Cy1/x2/x3/?x4;</script></div></p>

<hr noshade>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</DIV>
<script src="../erm.js"></script></body></html>