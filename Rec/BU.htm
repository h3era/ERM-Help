<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>
Ресивер BU</title>
<LINK REL="stylesheet"  MEDIA="screen" TYPE="text/css" HREF="../style.css">
<script language="JScript"  src="script.js"></script></head>

<body scroll="no">
<DIV id="buttonMenu">
<SPAN CLASS="options">Опции&nbsp;BU:&nbsp;&nbsp;</SPAN>

 <SPAN CLASS="buttoninactive">A</SPAN>
 <SPAN CLASS="buttoninactive">B</SPAN>
	<A HREF="#C" title="Определение конца боя" CLASS="button">C</A>
	<A HREF="#D" title="Найти труп на позиции" CLASS="button">D</A>
	<A HREF="#E" title="Найти живой отряд на позиции" CLASS="button">E</A>
 <SPAN CLASS="buttoninactive">F</SPAN>
	<A HREF="#G" title="Специальные земли в бою" CLASS="button">G</A>
 <SPAN CLASS="buttoninactive">H</SPAN>
 <SPAN CLASS="buttoninactive">I</SPAN>
 <SPAN CLASS="buttoninactive">J</SPAN>
 <SPAN CLASS="buttoninactive">K</SPAN>
 <SPAN CLASS="buttoninactive">L</SPAN>
	<A HREF="#M" title="Добавить сообщение в битву" CLASS="button">M</A>
 <SPAN CLASS="buttoninactive">N</SPAN>
	<A HREF="#O" title="Флаг на препятствие на позиции" CLASS="button">O</A>
 <SPAN CLASS="buttoninactive">P</SPAN>
 <SPAN CLASS="buttoninactive">Q</SPAN>
	<A HREF="#R" title="Обновление поля" CLASS="button">R</A>
	<A HREF="#S" title="Вызов монстра в бою" CLASS="button">S</A>
	<A HREF="#T" title="Статус тактической фазы" CLASS="button">T</A>
 <SPAN CLASS="buttoninactive">U</SPAN>
	<A HREF="#V" title="Выиграть в битве" CLASS="button">V</A>
 <SPAN CLASS="buttoninactive">W</SPAN>
 <SPAN CLASS="buttoninactive">X</SPAN>
 <SPAN CLASS="buttoninactive">Y</SPAN>
 <SPAN CLASS="buttoninactive">Z</SPAN>

</DIV>

<DIV id="text">
<p align="center"><font size="5">Ресивер <b>BU</b> 
(универсальные параметры битвы)</font></p>
<p>
<b><font id="red"><br>
!!BU:XXXX;</font> 
- установить/проверить/получить некоторые универсальные параметры битвы.</b> </p>
<hr noshade>
<p>
<a name="C"></a><font id="red"><b>C?$</b><br>

</font>Используется для точного определения, закончился бой или нет<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 1 если да<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 0 если нет.<br>
Рационально использовать в <a href="../Tr/BG.htm">!?BG1</a>;</p>
<hr noshade><p>
<a name="D"></a><font id="red"><b>D#/?$</b></font><br>
Получить или проверить <a target="form" href="../Form/BF.htm">позицию 
#</a> на мёртвых монстров (в $ будет номер мёртвого стека).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = номер стека мёртвых монстров<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -1 если вообще нет 
монстров на позиции<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -2 если на позиции 
живой стек</p>
<hr noshade><p>
<a name="E"></a><font id="red"><b>E#/?$</b></font><br>
Получить или проверить номер стека $ на живых монстров в 
<a target="form" href="../Form/BF.htm">позиции #</a>. Если живых монстров в этой 
позиции нет, $ = -1.</p>
<hr noshade><p>
<a name="G"></a><font id="red"><b>G$</b></font><br>
Установить/проверить/получить специальные ландшафты и их бонусы в битве.<br>
&nbsp;&nbsp;&nbsp; &nbsp;$ – <a target="form" href="../Form/BUG.htm">тип ландшафта</a><br>
<u><b onclick="HideIt(1)" class="h">Комментарий (<b id="show1">показать</b>)</b></u><div id="1" class="b">
Ели вы установите данный параметр до обработки битвы, игра подберёт корректный фон. 
Если вы измените это значение в ходе битвы, фон не изменится, но бонусы установленного ландшафта будут работать.</div></p>
<hr noshade><p>
<a name="M"></a><font id="red"><b>Mz#</b></font><br>
Добавить сообщение в битву<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; z# – <i>z</i>-переменная с текстом<br>
<b><u class="h" onclick="HideIt(2)" class="h">Комментарий (<b id="show2">показать</b>)</u></b><div id="2" class="b">
Эта команда отличается от команды <a href="MM.htm#M">MM:M</a> тем, что MM:M сообщение только показывает в лог битвы, не сохраняя его, 
когда как через BU:M текст и показывается, и добавляется в таблицу событий, т.е. вы сможете с помощью стрелочек вверх и вниз пролистнуть и найти это сообщение в дальнейшем.<br>
Помните, что вы не можете устранить оригинальный текст.</div></p>
<hr noshade><p>
<a name="O"></a><font id="red"><b>O#/?$</b></font><br>
Получить или проверить <a href="../Form/Obstacles_bit.htm" target="form">флаги препятствий</a> ($) для <a target="form" href="../Form/BF.htm">позиции #</a> на поле боя.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 0, если нет препятствий<br>
<b><u class="h" onclick="HideIt(5)" class="h">Комментарий (<b id="show5">показать</b>)</u></b><div id="5" class="b">
Команда может быть использована для проверки битов препятствий на интересующем гексе поля боя.<br>
Так, если на позиции мина, то получим $ = 9 (1+8)<br>
<i id="bold">Замечание:</i> у Силового поля для начальной клетки (нижняя) игра выставляет значение $=35 (1+2+32), а для остальных - $=34 (2+32). 
Так же и для всех препятствий, установленных командой <a href="BF.htm#O">BF:O</a>, у которых начальная клетка будет иметь $=3 (1+2), а все остальные - $=2 (когда препятствие занимает более 1 клетки).<br>
<u onclick="HideIt(4)" class="h"><b>Дополнительно</b><a href="../ERA/index.htm" title="Работает только с ERA.."><img src="../Img/era.gif" class="TE"></a>(<u id="show4">показать</u>)</u><div id="4" class="b">
При работе с препятствиями команда BU:O не всегда может помочь. Например, когда вам понадобится проверять клетки у ворот (при осаде).
<script type="erm">!!UN:C6919200/4/?y50; Менеджер Битвы
!!SN:E4625904/2/y50/[индекс гекса]; Записываем в v1, можно ли встать на это место. 0 - можно, 1 - нельзя.
; Если ворота не пробиты, значение для атакующего будет 1, иначе - 0.</script>
</div></div></p>
<hr noshade><p>
<a name="R"></a><font id="red"><b>R</b></font><br>
Обновить поле боя после каких-либо действий<br>
<i id="bold">Замечание:</i> не используйте эту команду в триггере <a href="../Tr/BF.htm">!?BF</a>.<br>
<u><b onclick="HideIt(3)" class="h">Пример (<b id="show3">показать</b>)</b></u><div id="3" class="b">
К сожалению, данная команда не обновляет сетку перемещения активного стека. Однако это можно сделать, используя возможности <a href="../ERA/index.htm">ERA</a>:
<script type="erm">; Обновить тень возможного перемещения после изменения скорости стека
!!UN:C6919200/4/?y2;    [Менеджер битвы]
!!SN:E4797616/2/y2/0/1; [обновить сетку поля боя]
!!BU:R;</script></div></p>
<hr noshade><p>
<a name="S"></a><font id="red"><b>S#1/#2/#3/#4/#5/#6</b></font><br>
Вызвать монстров на поле боя<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 –
<a target="form" href="../Form/Creature.htm">тип монстра</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – кол-во монстров<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 –
<a target="form" href="../Form/BF.htm">позиция</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #4 – сторона (0 – левый герой, 
1 – правый)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #5 – номер слота героя (-1 – 
отсутствует (исчезнет после битвы))<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #6 – обновить (1 – да, 0 – нет)<br>
Позиция должна быть корректна, свободна от 
других монстров и препятствий, и не может быть более 20 стеков с каждой стороны.</p>
<hr noshade><p>
<a name="T"></a><font id="red"><b>T?$</b></font><br>
Проверить, имеет ли битва тактическую фазу<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 1 если да<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 0 если нет</p>
<hr noshade><p>
<a name="V"></a><font id="red"><b>V#</b></font><br>
Выиграть в битве<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # - сторона победителя<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0 = правый (защитник)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
1 = левый (атакующий)</p>

<hr noshade>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</DIV>
<script src="../erm.js"></script></body></html>